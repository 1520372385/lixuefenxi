# 力学振动数据一致性分析系统 - 启动说明

## 系统概述

本系统是一个基于Streamlit的力学振动数据一致性分析系统，包含两个主要功能模块：

1. **频谱分析模块** (`pages/consistency_analysis.py`)
   - 频谱曲线绘制和选定频谱叠加功能
   - 完整的测点切换按钮
   - 参考集数据虚化显示
   - 位置信息显示

2. **相似度分析模块** (`pages/similarity_analysis.py`)
   - Esim相似度分析
   - 使用参考数据集平均值作为基准向量
   - 0.8-0.9和0.8以下的颜色标记功能
   - 位置信息显示

## 系统启动

### 方法1：直接启动主页面
```bash
cd lixuefenxi
streamlit run main_app.py
```

### 方法2：启动特定模块
```bash
# 启动频谱分析模块
cd lixuefenxi
streamlit run pages/consistency_analysis.py

# 启动相似度分析模块
cd lixuefenxi
streamlit run pages/similarity_analysis.py
```

## 系统功能特点

### 频谱分析模块
- ✅ 完全按照consistency_app.py实现数据导入和处理功能
- ✅ 频谱曲线绘制和选定频谱叠加
- ✅ 切换测点按钮
- ✅ 参考集数据虚化显示
- ✅ 位置信息显示（需上传测点位置表）

### 相似度分析模块
- ✅ 基于yizhixing.py的Esim相似度分析
- ✅ 使用参考数据集平均值作为基准向量
- ✅ 0.8-0.9和0.8以下的颜色标记功能
- ✅ 完整的测点切换功能
- ✅ 位置信息显示（需上传测点位置表）

## 数据格式要求

### 新数据（未经处理的LMS数据）
- Excel格式（.xlsx/.xls）
- 第12行包含测点名称
- 数据从第13行开始
- 第一列为频率数据

### 参考数据（已处理特征级数据）
- Excel格式（.xlsx）
- 第一列为频率
- 其他列为测点数据

### 测点位置表
- Excel格式（.xlsx）
- 必须包含列：测点名称、舱板、单机区域

## 使用流程

1. 启动系统：`streamlit run main_app.py`
2. 选择功能模块（频谱分析或相似度分析）
3. 上传数据文件：
   - 新数据（未经处理的LMS数据）
   - 参考数据（已处理特征级数据）
   - 测点位置表（可选）
4. 进行数据转换和分析
5. 查看分析结果和图表
6. 使用测点切换功能浏览不同测点
7. 查看颜色标记的低相似度测点

## 注意事项

- 确保所有依赖包已安装：`pip install -r requirements.txt`
- 数据文件格式需符合要求
- 测点位置表为可选，但上传后可显示更详细的位置信息
- 系统会自动缓存处理结果，提高重复操作效率
